<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1492px" preserveAspectRatio="none" style="width:933px;height:1492px;background:#FFFFFF;" version="1.1" viewBox="0 0 933 1492" width="933px" zoomAndPan="magnify"><defs><filter height="300%" id="fp4ohd6m31tz4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="528" x="200.5" y="30.6855">RingCentral App Add-In Framework Local Developement Workflow</text><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58.5" y="677.5781"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="209.3047"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="363.0625"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="486.4688"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="647.2266"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="1320.9609"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="781.5" y="302.3594"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="781.5" y="516.8203"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="449.2734" style="stroke:#000000;stroke-width:2.0;" width="854" x="10" y="143.25"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="462.5" x="266.5" y="168.6016"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="170.1094" style="stroke:#000000;stroke-width:2.0;" width="834" x="20" y="261.6563"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="139.7578" style="stroke:#000000;stroke-width:2.0;" width="834" x="20" y="445.7656"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="139.7578" style="stroke:#000000;stroke-width:2.0;" width="899" x="20" y="606.5234"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="170.1094" style="stroke:#000000;stroke-width:2.0;" width="899" x="20" y="760.2813"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="321.8672" style="stroke:#000000;stroke-width:2.0;" width="899" x="20" y="944.3906"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="109.4063" style="stroke:#000000;stroke-width:2.0;" width="834" x="20" y="1280.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="126.25" y2="1406.6641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="300.5" x2="300.5" y1="126.25" y2="1406.6641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="611" x2="611" y1="126.25" y2="1406.6641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="786" x2="786" y1="126.25" y2="1406.6641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="881" x2="881" y1="126.25" y2="1406.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="30" y="123.1738">Database</text><path d="M45.5,72.6406 C45.5,62.6406 63.5,62.6406 63.5,62.6406 C63.5,62.6406 81.5,62.6406 81.5,72.6406 L81.5,98.6406 C81.5,108.6406 63.5,108.6406 63.5,108.6406 C63.5,108.6406 45.5,108.6406 45.5,98.6406 L45.5,72.6406 " fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" style="stroke:#000000;stroke-width:1.5;"/><path d="M45.5,72.6406 C45.5,82.6406 63.5,82.6406 63.5,82.6406 C63.5,82.6406 81.5,82.6406 81.5,72.6406 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="30" y="1420.1973">Database</text><path d="M45.5,1433.2734 C45.5,1423.2734 63.5,1423.2734 63.5,1423.2734 C63.5,1423.2734 81.5,1423.2734 81.5,1433.2734 L81.5,1459.2734 C81.5,1469.2734 63.5,1469.2734 63.5,1469.2734 C63.5,1469.2734 45.5,1469.2734 45.5,1459.2734 L45.5,1433.2734 " fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" style="stroke:#000000;stroke-width:1.5;"/><path d="M45.5,1433.2734 C45.5,1443.2734 63.5,1443.2734 63.5,1443.2734 C63.5,1443.2734 81.5,1443.2734 81.5,1433.2734 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="276.5" y="123.1738">Server</text><ellipse cx="300.5" cy="92.6406" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="296.5,80.6406,302.5,75.6406,300.5,80.6406,302.5,85.6406,296.5,80.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="276.5" y="1420.1973">Server</text><ellipse cx="300.5" cy="1439.2734" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="296.5,1427.2734,302.5,1422.2734,300.5,1427.2734,302.5,1432.2734,296.5,1427.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="504" y="123.1738">RingCentral Notification App Tool</text><ellipse cx="611.5" cy="92.6406" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="607.5,80.6406,613.5,75.6406,611.5,80.6406,613.5,85.6406,607.5,80.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="504" y="1420.1973">RingCentral Notification App Tool</text><ellipse cx="611.5" cy="1439.2734" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="607.5,1427.2734,613.5,1422.2734,611.5,1427.2734,613.5,1432.2734,607.5,1427.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="729" y="123.1738">3rd Party Service</text><ellipse cx="786.5" cy="92.6406" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="782.5,80.6406,788.5,75.6406,786.5,80.6406,788.5,85.6406,782.5,80.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="729" y="1420.1973">3rd Party Service</text><ellipse cx="786.5" cy="1439.2734" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="782.5,1427.2734,788.5,1422.2734,786.5,1427.2734,788.5,1432.2734,782.5,1427.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="854" y="123.1738">RC App</text><ellipse cx="881.5" cy="51.6406" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M881.5,59.6406 L881.5,86.6406 M868.5,67.6406 L894.5,67.6406 M881.5,86.6406 L868.5,101.6406 M881.5,86.6406 L894.5,101.6406 " fill="none" filter="url(#fp4ohd6m31tz4)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="854" y="1420.1973">RC App</text><ellipse cx="881.5" cy="1433.2734" fill="#FEFECE" filter="url(#fp4ohd6m31tz4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M881.5,1441.2734 L881.5,1468.2734 M868.5,1449.2734 L894.5,1449.2734 M881.5,1468.2734 L868.5,1483.2734 M881.5,1468.2734 L894.5,1483.2734 " fill="none" filter="url(#fp4ohd6m31tz4)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58.5" y="677.5781"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="209.3047"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="363.0625"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="486.4688"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="647.2266"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="1320.9609"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="781.5" y="302.3594"/><rect fill="#FFFFFF" filter="url(#fp4ohd6m31tz4)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="781.5" y="516.8203"/><path d="M10,143.25 L89,143.25 L89,151.25 L79,161.25 L10,161.25 L10,143.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="449.2734" style="stroke:#000000;stroke-width:2.0;" width="854" x="10" y="143.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="34" x="25" y="157.7451">setup</text><path d="M266.5,168.6016 L456.5,168.6016 L456.5,176.6016 L446.5,186.6016 L266.5,186.6016 L266.5,168.6016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="462.5" x="266.5" y="168.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="281.5" y="183.0967">register RC_WEBHOOK</text><polygon fill="#A80036" points="316.5,205.3047,306.5,209.3047,316.5,213.3047,312.5,209.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="310.5" x2="610.5" y1="209.3047" y2="209.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="322.5" y="204.4482">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="333.5" y="204.4482">fill in 'App Url' and 'Webhook Url', and Apply</text><ellipse cx="611" cy="238.9063" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="594,235.6563,604,239.6563,594,243.6563,598,239.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="600" y1="239.6563" y2="239.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="307.5" y="234.7998">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="318.5" y="234.7998">return RC_WEBHOOK and auth view</text><path d="M20,261.6563 L149,261.6563 L149,269.6563 L139,279.6563 L20,279.6563 L20,261.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:2.0;" width="834" x="20" y="261.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84" x="35" y="276.1514">authorization</text><polygon fill="#A80036" points="769.5,298.3594,779.5,302.3594,769.5,306.3594,773.5,302.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="611.5" x2="775.5" y1="302.3594" y2="302.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="618.5" y="297.5029">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="629.5" y="297.5029">user auth</text><polygon fill="#A80036" points="622.5,328.7109,612.5,332.7109,622.5,336.7109,618.5,332.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="616.5" x2="785.5" y1="332.7109" y2="332.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="628.5" y="327.8545">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="639.5" y="327.8545">grant user access</text><polygon fill="#A80036" points="316.5,359.0625,306.5,363.0625,316.5,367.0625,312.5,363.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="310.5" x2="610.5" y1="363.0625" y2="363.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="322.5" y="358.2061">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="333.5" y="358.2061">upload user info</text><ellipse cx="63" cy="392.6641" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="80,389.4141,70,393.4141,80,397.4141,76,393.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78" x2="294.5" y1="393.4141" y2="393.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="80.5" y="388.5576">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="91.5" y="388.5576">save user info to db</text><ellipse cx="611" cy="423.0156" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="594,419.7656,604,423.7656,594,427.7656,598,423.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="600" y1="423.7656" y2="423.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="307.5" y="418.9092">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="318.5" y="418.9092">return jwt (encrypted user info) and save locally</text><path d="M20,445.7656 L125,445.7656 L125,453.7656 L115,463.7656 L20,463.7656 L20,445.7656 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:2.0;" width="834" x="20" y="445.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="60" x="35" y="460.2607">subscribe</text><polygon fill="#A80036" points="316.5,482.4688,306.5,486.4688,316.5,490.4688,312.5,486.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="310.5" x2="610.5" y1="486.4688" y2="486.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="322.5" y="481.6123">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="333.5" y="481.6123">subscribe</text><polygon fill="#A80036" points="769.5,512.8203,779.5,516.8203,769.5,520.8203,773.5,516.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305.5" x2="775.5" y1="516.8203" y2="516.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="312.5" y="511.9639">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="323.5" y="511.9639">create subscription with SERVER_WEBHOOK</text><polygon fill="#A80036" points="316.5,543.1719,306.5,547.1719,316.5,551.1719,312.5,547.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="310.5" x2="785.5" y1="547.1719" y2="547.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="322.5" y="542.3154">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="340.5" y="542.3154">return subscription info</text><ellipse cx="63" cy="576.7734" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="80,573.5234,70,577.5234,80,581.5234,76,577.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78" x2="299.5" y1="577.5234" y2="577.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="572.667">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="98.5" y="572.667">save subscription info to db</text><path d="M20,606.5234 L157,606.5234 L157,614.5234 L147,624.5234 L20,624.5234 L20,606.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:2.0;" width="899" x="20" y="606.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="35" y="621.0186">transformation</text><polygon fill="#A80036" points="316.5,643.2266,306.5,647.2266,316.5,651.2266,312.5,647.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="310.5" x2="785.5" y1="647.2266" y2="647.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="322.5" y="642.3701">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="340.5" y="642.3701">notification to SERVER_WEBHOOK</text><polygon fill="#A80036" points="79.5,673.5781,69.5,677.5781,79.5,681.5781,75.5,677.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="73.5" x2="294.5" y1="677.5781" y2="677.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="85.5" y="672.7217">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="103.5" y="672.7217">query subscription id</text><polygon fill="#A80036" points="283.5,703.9297,293.5,707.9297,283.5,711.9297,287.5,707.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="289.5" y1="707.9297" y2="707.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="70.5" y="703.0732">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="88.5" y="703.0732">return user and subscription info</text><ellipse cx="881" cy="737.5313" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="864,734.2813,874,738.2813,864,742.2813,868,738.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="870" y1="738.2813" y2="738.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="733.4248">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="325.5" y="733.4248">transform notification message and send to RC_WEBHOOK</text><path d="M20,760.2813 L306,760.2813 L306,768.2813 L296,778.2813 L20,778.2813 L20,760.2813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:2.0;" width="899" x="20" y="760.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="241" x="35" y="774.7764">interactive message - for KNOWN user</text><polygon fill="#A80036" points="311.5,796.9844,301.5,800.9844,311.5,804.9844,307.5,800.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="880.5" y1="800.9844" y2="800.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="317.5" y="796.1279">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="335.5" y="796.1279">request to perform action with RC_USER_ID</text><polygon fill="#A80036" points="74.5,827.3359,64.5,831.3359,74.5,835.3359,70.5,831.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="299.5" y1="831.3359" y2="831.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="826.4795">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="98.5" y="826.4795">get user</text><polygon fill="#A80036" points="288.5,857.6875,298.5,861.6875,288.5,865.6875,292.5,861.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="294.5" y1="861.6875" y2="861.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="70.5" y="856.8311">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="88.5" y="856.8311">known, return accessToken</text><polygon fill="#A80036" points="774.5,888.0391,784.5,892.0391,774.5,896.0391,778.5,892.0391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="780.5" y1="892.0391" y2="892.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="887.1826">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="325.5" y="887.1826">perform action</text><polygon fill="#A80036" points="869.5,918.3906,879.5,922.3906,869.5,926.3906,873.5,922.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="875.5" y1="922.3906" y2="922.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="917.5342">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="325.5" y="917.5342">notify user about the result</text><path d="M20,944.3906 L324,944.3906 L324,952.3906 L314,962.3906 L20,962.3906 L20,944.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="321.8672" style="stroke:#000000;stroke-width:2.0;" width="899" x="20" y="944.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="259" x="35" y="958.8857">interactive message - for UNKNOWN user</text><polygon fill="#A80036" points="311.5,981.0938,301.5,985.0938,311.5,989.0938,307.5,985.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="880.5" y1="985.0938" y2="985.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="317.5" y="980.2373">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="335.5" y="980.2373">request to perform action with RC_USER_ID</text><polygon fill="#A80036" points="74.5,1011.4453,64.5,1015.4453,74.5,1019.4453,70.5,1015.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="299.5" y1="1015.4453" y2="1015.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="1010.5889">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="98.5" y="1010.5889">get user</text><polygon fill="#A80036" points="288.5,1041.7969,298.5,1045.7969,288.5,1049.7969,292.5,1045.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="294.5" y1="1045.7969" y2="1045.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="70.5" y="1040.9404">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="88.5" y="1040.9404">unknown</text><polygon fill="#A80036" points="869.5,1072.1484,879.5,1076.1484,869.5,1080.1484,873.5,1076.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="875.5" y1="1076.1484" y2="1076.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="1071.292">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="325.5" y="1071.292">prompt for auth</text><polygon fill="#A80036" points="311.5,1102.5,301.5,1106.5,311.5,1110.5,307.5,1106.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305.5" x2="880.5" y1="1106.5" y2="1106.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="317.5" y="1101.6436">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="335.5" y="1101.6436">retun accessCode for token exchange</text><polygon fill="#A80036" points="774.5,1132.8516,784.5,1136.8516,774.5,1140.8516,778.5,1136.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="780.5" y1="1136.8516" y2="1136.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="1131.9951">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="325.5" y="1131.9951">token exchange</text><polygon fill="#A80036" points="311.5,1163.2031,301.5,1167.2031,311.5,1171.2031,307.5,1167.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305.5" x2="785.5" y1="1167.2031" y2="1167.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="317.5" y="1162.3467">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="335.5" y="1162.3467">token</text><polygon fill="#A80036" points="74.5,1193.5547,64.5,1197.5547,74.5,1201.5547,70.5,1197.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="299.5" y1="1197.5547" y2="1197.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="1192.6982">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="98.5" y="1192.6982">register user info</text><polygon fill="#A80036" points="774.5,1223.9063,784.5,1227.9063,774.5,1231.9063,778.5,1227.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="780.5" y1="1227.9063" y2="1227.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="1223.0498">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="325.5" y="1223.0498">perform action</text><polygon fill="#A80036" points="869.5,1254.2578,879.5,1258.2578,869.5,1262.2578,873.5,1258.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="875.5" y1="1258.2578" y2="1258.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="307.5" y="1253.4014">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="325.5" y="1253.4014">notify user about the result</text><path d="M20,1280.2578 L108,1280.2578 L108,1288.2578 L98,1298.2578 L20,1298.2578 L20,1280.2578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="109.4063" style="stroke:#000000;stroke-width:2.0;" width="834" x="20" y="1280.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="35" y="1294.7529">revoke</text><polygon fill="#A80036" points="316.5,1316.9609,306.5,1320.9609,316.5,1324.9609,312.5,1320.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="310.5" x2="610.5" y1="1320.9609" y2="1320.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="322.5" y="1316.1045">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="340.5" y="1316.1045">log out</text><ellipse cx="786" cy="1350.5625" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="769,1347.3125,779,1351.3125,769,1355.3125,773,1351.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305.5" x2="775" y1="1351.3125" y2="1351.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="312.5" y="1346.4561">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="330.5" y="1346.4561">delete subscription</text><ellipse cx="63" cy="1380.9141" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="80,1377.6641,70,1381.6641,80,1385.6641,76,1381.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78" x2="299.5" y1="1381.6641" y2="1381.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="1376.8076">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="98.5" y="1376.8076">clear user and subscription info</text><!--MD5=[6d6d697b47642fd8bdc1fef919d89401]
@startuml

title RingCentral App Add-In Framework Local Developement Workflow

autonumber

Database "Database" as DB
control "Server" as SERVER
control "RingCentral Notification App Tool" as G
control "3rd Party Service" as T
actor "RC App" as RC

group setup

    group register RC_WEBHOOK
    G -> SERVER: fill in 'App Url' and 'Webhook Url', and Apply
    activate SERVER
    SERVER - ->o G: return RC_WEBHOOK and auth view
    deactivate SERVER
    end

    group authorization
    G -> T: user auth
    activate T
    T - -> G: grant user access
    deactivate T
    G -> SERVER: upload user info
    activate SERVER
    SERVER - ->o DB: save user info to db
    SERVER - ->o G: return jwt (encrypted user info) and save locally
    deactivate SERVER
    end

    group subscribe
    G -> SERVER: subscribe
    activate SERVER
    SERVER - -> T: create subscription with SERVER_WEBHOOK
    activate T
    T - -> SERVER: return subscription info
    deactivate T
    SERVER - ->o DB: save subscription info to db
    deactivate SERVER
    end
end

group transformation
    T -> SERVER: notification to SERVER_WEBHOOK
    activate SERVER
    SERVER -> DB: query subscription id
    activate DB
    DB - -> SERVER: return user and subscription info
    deactivate DB
    SERVER - ->o RC: transform notification message and send to RC_WEBHOOK
    deactivate SERVER
end

group interactive message - for KNOWN user
    RC -> SERVER: request to perform action with RC_USER_ID
    SERVER - -> DB: get user
    DB - -> SERVER: known, return accessToken
    SERVER - -> T: perform action
    SERVER - -> RC: notify user about the result
end

group interactive message - for UNKNOWN user
    RC -> SERVER: request to perform action with RC_USER_ID
    SERVER - -> DB: get user
    DB - -> SERVER: unknown
    SERVER - -> RC: prompt for auth
    RC - -> SERVER: retun accessCode for token exchange
    SERVER - -> T: token exchange
    T - -> SERVER: token
    SERVER - -> DB: register user info
    SERVER - -> T: perform action
    SERVER - -> RC: notify user about the result
end

group revoke
    G -> SERVER: log out
    activate SERVER
    SERVER - ->o T: delete subscription
    SERVER - ->o DB: clear user and subscription info
    deactivate SERVER
end

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>